<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link href="componentes/css/metro-bootstrap.css" rel="stylesheet">
    <link href="componentes/css/metro-bootstrap-responsive.css" rel="stylesheet">
    <link href="componentes/css/iconFont.css" rel="stylesheet">
    <link href="componentes/css/docs.css" rel="stylesheet">
    <link href="componentes/js/prettify/prettify.css" rel="stylesheet">

    <!-- Load JavaScript Libraries -->
    <script src="componentes/js/jquery/jquery.min.js"></script>
    <script src="componentes/js/jquery/jquery.widget.min.js"></script>
    <script src="componentes/js/jquery/jquery.mousewheel.js"></script>
    <script src="componentes/js/jquery/jquery.easing.1.3.min.js"></script>
    <script src="componentes/js/prettify/prettify.js"></script>
    <script src="componentes/js/holder/holder.js"></script>

    <!-- Metro UI CSS JavaScript plugins -->
    <script src="componentes/js/load-metro.js"></script>
    
    <!-- Local JavaScript -->
    <script src="js/docs.js"></script>
    <script src="js/github.info.js"></script>
	<style>
	body {
		margin: 40px 20px;
	}
</style>
    
</head>

<body background="fundo.jpg" class="metro">
    
    <h2>Super Node Menu</h2>

    <form name="formulario" onsubmit="enviarMensagem(this); return false;">
        <input type="text" name="texto" placeHolder="Digite a mensagem aqui" /><br />
        <input type="submit" name="enviar" value="Enviar" />
    </form>
    
            <div class="tile"></div>
            <div class="tile double"></div>
            <div class="tile selected"></div>
            <p></p>
    
    <!-- Carrinho de compras -->
    <div class="tile bg-darkPink"> <!-- cor do fundo -->
        <div class="tile-content icon">
            <i class="icon-cart-2"></i> <!-- ícone do carrinho -->
        </div>
        <div class="tile-status">
            <span class="name">Store</span> <!-- Descrição da imagem -->
        </div>
    </div>
    
    
    <!-- Águia -->
    <div class="tile double">   <!-- tipo=double, duas posições -->
        <div class="tile-content image">    <!-- tipo=imagem -->
            <img src="componentes/images/4.jpg"> <!-- Águia -->
        </div>
        <div class="brand bg-dark opacity"> <!-- Cor da descrição -->
            <span class="text">
                Tipooow, GIIIIR!    <!-- Descrição -->
            </span>
        </div>
    </div>
    
    
    <!-- Windows -->
    <div class="tile bg-darkBlue"> <!-- cor do fundo -->
        <div class="tile-content image">    <!-- tipo=imagem -->
            <img src="componentes/images/Windows-8-Logo.png"> <!-- Águia -->
        </div>
    </div>
    
    <!-- Imagens Dinâmicas -->
    <div class="tile live" data-role="live-tile" data-effect="slideRight"> <!-- sem data-effect = slideLeft -->
            <div class="tile-content image">
                <img src="componentes/images/pd/eda.jpg">
            </div>
            <div class="tile-content image">    <!-- Para cada imagem deve-se fazer isto -->
                <img src="componentes/images/pd/zik4.jpg">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/jao2.png">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/jv1.png">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/liza.png">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/lurinha.png">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/PD.png">
            </div>
            <div class="tile-content image">
                <img src="componentes/images/pd/peixe2.png">
            </div>

            <div class="tile-status bg-dark opacity"> <!-- Para colocar uma descrição no tile -->
                <span class="label">Nois</span>
            </div>
    </div>
                    
        
    <div id="mensagens">
        
    </div>
    
    <script type="text/javascript">
        (function(){
            
            var net = require('net');
            var msgDiv = document.getElementById("mensagens");
            var mensagem = "não vai ter mensagem";
            var sockets = [];
            
            var server = net.createServer(function(s) {
                
                s.on('data', function(buf) {
                    //msgDiv.innerHTML += "<b>Alguém&gt;</b> " + buf.toString('ascii') + "<br />";
                    msgDiv.innerHTML += "<div class='tile double'> <div class='tile-content image'>  <img src='componentes/images/5.jpg'> </div> <div class='brand bg-dark opacity'><span class='text'> "+buf.toString('ascii')+" </span> </div> </div>";
                });
                sockets.push(s);
                
            });
            
            server.listen(8888);
            
            window.enviarMensagem = function(form) {
                var msg = form.texto.value;
                msgDiv.innerHTML += "<b>Eu&gt;</b> " + msg + "<br />";
                for (var i = 0; i < sockets.length; ++i) {
                    sockets[i].write(msg + "\n");
                }
                
                
            };
        })();
    </script>
</body>
</html>